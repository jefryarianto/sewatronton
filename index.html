<!doctype html>
<html lang="id">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
    />
    <meta name="theme-color" content="#2196F3" />
    <meta
      name="description"
      content="Kalkulator Biaya Sewa Tronton - Hitung biaya mobilisasi 1 TRIP (Pergi-Pulang) dari Larantuka dengan Minimum Charge 15KM, Harga Solar Rp 15.000/Liter, dan Pembulatan Rp 500.000"
    />

    <title>
      Kalkulator Biaya Sewa Tronton | Rp 15.000/Liter | Pembulatan Rp 500rb
    </title>

    <!-- Leaflet CSS -->
    <link
      rel="stylesheet"
      href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
    />
    <link
      rel="stylesheet"
      href="https://unpkg.com/leaflet-routing-machine@3.2.12/dist/leaflet-routing-machine.css"
    />
    <link rel="stylesheet" href="css/style.css" />

    <!-- Manifest for PWA -->
    <link rel="manifest" href="manifest.json" />

    <!-- Favicon & Apple Touch Icons -->
    <link rel="apple-touch-icon" href="icons/icon-192.png" />
    <link
      rel="icon"
      type="image/png"
      sizes="192x192"
      href="icons/icon-192.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="512x512"
      href="icons/icon-512.png"
    />

    <!-- PWA Meta Tags -->
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="default" />
    <meta name="apple-mobile-web-app-title" content="Tronton Calc" />
    <meta name="format-detection" content="telephone=no" />
  </head>
  <body>
    <div class="container">
      <header>
        <h1>ğŸš› Kalkulator Biaya Sewa Tronton</h1>
        <p class="subtitle">
          Hitung biaya mobilisasi 1 TRIP (Pergi-Pulang) dari Larantuka, Flores
          Timur
        </p>
        <div class="header-badges">
          <span class="header-badge minimum">âš ï¸ MINIMUM CHARGE 15KM</span>
          <span class="header-badge pergi">ğŸŸ¢ PERGI: 1/5 Ã— Jarak</span>
          <span class="header-badge pulang">ğŸ”´ PULANG: 1/1.5 Ã— Jarak</span>
          <span class="header-badge solar">â›½ Rp 15.000/Liter</span>
          <span class="header-badge rounding">ğŸ’° Pembulatan Rp 500rb</span>
        </div>
      </header>

      <div class="map-container">
        <div id="map"></div>
        <div class="map-overlay">
          <span class="map-location">ğŸ“ Larantuka, Flores Timur</span>
        </div>
      </div>

      <div class="controls">
        <div class="points">
          <div class="point point-start">
            <h3>ğŸ“ Titik Awal</h3>
            <div class="coordinates" id="startCoords">
              <span class="coordinates-location">Larantuka</span>
              <span class="coordinates-numeric">-8.2718, 122.9643</span>
            </div>
            <button onclick="setStartPoint()" class="btn-primary btn-start">
              <span class="btn-icon">ğŸ“</span> Ambil dari Map
            </button>
          </div>
          <div class="point point-end">
            <h3>ğŸ¯ Titik Akhir</h3>
            <div class="coordinates" id="endCoords">
              <span style="color: #999; font-style: italic">Belum dipilih</span>
            </div>
            <button onclick="setEndPoint()" class="btn-primary btn-end">
              <span class="btn-icon">ğŸ¯</span> Ambil dari Map
            </button>
          </div>
        </div>

        <div class="info-bars">
          <div class="info-bar minimum-charge-bar">
            <div class="info-bar-icon">âš ï¸</div>
            <div class="info-bar-text">
              <strong>MINIMUM CHARGE 15KM:</strong> Jika jarak &lt; 15km, biaya
              jarak TETAP dihitung 15km (Rp 3.750.000)
            </div>
          </div>

          <div class="info-bar solar-bar">
            <div class="info-bar-icon">â›½</div>
            <div class="info-bar-text">
              <strong>HARGA SOLAR: Rp 15.000/Liter</strong> | Dibulatkan ke
              kelipatan Rp 500.000
            </div>
          </div>
        </div>

        <div class="actions">
          <button onclick="calculateDistance()" class="btn-calculate">
            <span class="btn-icon">ğŸ“Š</span> Hitung Biaya 1 TRIP
          </button>
          <button onclick="resetMap()" class="btn-reset">
            <span class="btn-icon">ğŸ”„</span> Reset
          </button>
          <button onclick="swapPoints()" class="btn-swap">
            <span class="btn-icon">ğŸ”„</span> Tukar Titik
          </button>
        </div>

        <div class="result" id="result">
          <div id="costTable">
            <div class="welcome-message">
              <div class="welcome-icon">ğŸš›</div>
              <h2>Kalkulator Biaya Sewa Tronton</h2>
              <p class="welcome-subtitle">
                Pilih titik tujuan pada peta untuk menghitung biaya mobilisasi 1
                trip (pergi-pulang)
              </p>

              <div class="info-cards">
                <!-- Minimum Charge Card -->
                <div class="info-card minimum-charge-card">
                  <div class="info-card-header">
                    <span class="info-card-icon">âš ï¸</span>
                    <h3>Minimum Charge 15KM</h3>
                  </div>
                  <div class="info-card-body">
                    <p>
                      â€¢ Jarak <strong>&lt; 15km</strong> â†’ Biaya jarak dihitung
                      <strong>15km Ã— Rp 250.000 = Rp 3.750.000</strong>
                    </p>
                    <p>
                      â€¢ Jarak <strong>â‰¥ 15km</strong> â†’ Biaya jarak dihitung
                      sesuai jarak sebenarnya
                    </p>
                    <p class="example">
                      ğŸ“Œ Contoh: Jarak 5km â†’ Dibayar 15km (Rp 3.750.000)
                    </p>
                    <p class="note">
                      âš ï¸ Minimum charge HANYA untuk biaya jarak, TIDAK untuk
                      konsumsi solar
                    </p>
                  </div>
                </div>

                <!-- Solar Card -->
                <div class="info-card solar-card">
                  <div class="info-card-header">
                    <span class="info-card-icon">â›½</span>
                    <h3>Konsumsi Solar 1 TRIP</h3>
                  </div>
                  <div class="info-card-body">
                    <div class="solar-rumus-item">
                      <span class="solar-badge pergi">ğŸŸ¢ PERGI</span>
                      <span class="solar-rumus">1/5 Ã— Jarak</span>
                      <span class="solar-desc">(1 liter / 5 km)</span>
                    </div>
                    <div class="solar-rumus-item">
                      <span class="solar-badge pulang">ğŸ”´ PULANG</span>
                      <span class="solar-rumus">1/1.5 Ã— Jarak</span>
                      <span class="solar-desc">(1 liter / 1.5 km)</span>
                    </div>
                    <div class="solar-total">
                      <strong
                        >TOTAL = (1/5 + 1/1.5) Ã— Jarak = 0.867 Ã— Jarak
                        Liter</strong
                      >
                    </div>

                    <!-- Harga Solar -->
                    <div
                      class="solar-price"
                      style="
                        background: #ff9800;
                        color: white;
                        font-weight: bold;
                        margin-top: 15px;
                      "
                    >
                      ğŸ’° HARGA SOLAR: Rp 15.000 / liter
                    </div>

                    <!-- Pembulatan -->
                    <!-- Bagian Welcome Message - Solar Card (bagian pembulatan) -->
                    <div
                      style="
                        margin-top: 15px;
                        padding: 12px;
                        background: #e8f5e9;
                        border-radius: 5px;
                        border-left: 4px solid #4caf50;
                      "
                    >
                      <p
                        style="
                          color: #2e7d32;
                          font-weight: bold;
                          margin-bottom: 8px;
                          font-size: 1.1em;
                        "
                      >
                        ğŸ’° PEMBULATAN KE ATAS:
                      </p>
                      <p style="color: #333; margin-bottom: 5px">
                        â€¢ Biaya solar DIBULATKAN KE ATAS ke kelipatan
                        <strong>Rp 500.000</strong>
                      </p>
                      <p style="color: #333; margin-bottom: 5px">
                        â€¢ <strong>MINIMUM Rp 500.000</strong> (jika hasil <
                        500rb)
                      </p>
                      <p style="color: #333; margin-bottom: 5px">
                        â€¢ Contoh: Rp 433.333 â†’ Rp 500.000
                      </p>
                      <p style="color: #333; margin-bottom: 5px">
                        â€¢ Contoh: Rp 650.000 â†’ Rp 1.000.000
                      </p>
                      <p style="color: #333; margin-bottom: 5px">
                        â€¢ Contoh: Rp 1.001.000 â†’ Rp 1.500.000
                      </p>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Quick Guide -->
              <div class="quick-guide">
                <h4>ğŸ“‹ Cara Penggunaan:</h4>
                <ol>
                  <li>
                    Klik tombol <strong>"Ambil dari Map"</strong> pada titik
                    yang ingin dipilih
                  </li>
                  <li>Klik lokasi pada peta untuk menandai titik</li>
                  <li>Marker bisa digeser untuk penyesuaian</li>
                  <li>
                    Klik <strong>"Hitung Biaya 1 TRIP"</strong> untuk melihat
                    perhitungan
                  </li>
                </ol>
              </div>
            </div>
          </div>
        </div>
      </div>

      <footer>
        <p>Â© 2024 Kalkulator Biaya Sewa Tronton | Larantuka, Flores Timur</p>
        <p style="font-size: 0.8em; margin-top: 5px">
          â›½ Harga Solar Rp 15.000/Liter | ğŸ’° Pembulatan Rp 500.000
        </p>
      </footer>
    </div>

    <!-- Scripts -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script src="https://unpkg.com/leaflet-routing-machine@3.2.12/dist/leaflet-routing-machine.js"></script>
    <script src="js/app.js"></script>
  </body>
</html>
